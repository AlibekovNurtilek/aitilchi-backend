# ‚úÖ –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ —Å Python
FROM python:3.10-slim

# üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN apt-get update && apt-get install -y \
    build-essential \
    git \
    && rm -rf /var/lib/apt/lists/*

# üìÇ –°–æ–∑–¥–∞—ë–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
WORKDIR /app

# üì• –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY requirements.txt .

# ‚¨áÔ∏è –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
RUN pip install --upgrade pip \
    && pip install --no-cache-dir -r requirements.txt

# üì• –ö–æ–ø–∏—Ä—É–µ–º –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
COPY . .

# üöÄ –ó–∞–ø—É—Å–∫ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
